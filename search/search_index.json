{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Use the navigation to access the setup guide, run instructions, and API reference.","title":"Home"},{"location":"api/","text":"API reference","title":"Api"},{"location":"other/","text":"Accessing Django Admin Requirement: is_superuser=true . Access the admin panel by navigating to: http://localhost:8000/admin/ A superuser is included in the seeded data. Log in using these credentials: Username: admin@example.com Password: 123 Otherwise create a superuser by: py manage.py createsuperuser","title":"Other"},{"location":"other/#accessing-django-admin","text":"Requirement: is_superuser=true . Access the admin panel by navigating to: http://localhost:8000/admin/ A superuser is included in the seeded data. Log in using these credentials: Username: admin@example.com Password: 123 Otherwise create a superuser by: py manage.py createsuperuser","title":"Accessing Django Admin"},{"location":"prerequisites/","text":"","title":"Prerequisites"},{"location":"run/","text":"Running the Project Locally Frontend Startup (in one terminal): cd frontend npm run dev Backend Startup (in another terminal): env\\Scripts\\activate cd backend py manage.py runserver Simulator Startup (in another terminal): env\\Scripts\\activate cd wifi2ble-box-simulator py simulator/main.py --port 8001 MQTT Listener Startup Purpose: Checking messages sent by the Pico W. (in another terminal): env\\Scripts\\activate cd backend py manage.py mqtt_listener","title":"Running the Project"},{"location":"run/#running-the-project-locally","text":"","title":"Running the Project Locally"},{"location":"run/#frontend-startup","text":"(in one terminal): cd frontend npm run dev","title":"Frontend Startup"},{"location":"run/#backend-startup","text":"(in another terminal): env\\Scripts\\activate cd backend py manage.py runserver","title":"Backend Startup"},{"location":"run/#simulator-startup","text":"(in another terminal): env\\Scripts\\activate cd wifi2ble-box-simulator py simulator/main.py --port 8001","title":"Simulator Startup"},{"location":"run/#mqtt-listener-startup","text":"Purpose: Checking messages sent by the Pico W. (in another terminal): env\\Scripts\\activate cd backend py manage.py mqtt_listener","title":"MQTT Listener Startup"},{"location":"api/backend/auth/","text":"Authentication Endpoints Log Out Endpoint: POST /api/auth/logout/ Description: Logs out the currently authenticated user. Requires JWT cookies ( access_token , refresh_token ) Uses IsAuthenticated Response { \"success\": true } Errors: - 400","title":"Authentication"},{"location":"api/backend/auth/#authentication-endpoints","text":"","title":"Authentication Endpoints"},{"location":"api/backend/auth/#log-out","text":"Endpoint: POST /api/auth/logout/ Description: Logs out the currently authenticated user. Requires JWT cookies ( access_token , refresh_token ) Uses IsAuthenticated Response { \"success\": true } Errors: - 400","title":"Log Out"},{"location":"api/backend/desks/","text":"","title":"Desks"},{"location":"api/simulator/","text":"WiFi2BLE Box Simulator CodeRefinery Link","title":"Overview"},{"location":"api/simulator/#wifi2ble-box-simulator","text":"CodeRefinery Link","title":"WiFi2BLE Box Simulator"},{"location":"api/simulator/endpoints/","text":"Endpoints 1. Get All Desks Endpoint : GET /api/v2/<api_key>/desks Description : Retrieve a list of all desk IDs available in the system. Response : Status : 200 OK Body : Array of desk IDs. json [\"cd:fb:1a:53:fb:e6\", \"ee:62:5b:b8:73:1d\"] Errors : 401 Unauthorized : Invalid API key. 400 Bad Request : Incorrect endpoint format or version mismatch. 2. Get Specific Desk Data Endpoint : GET /api/v2/<api_key>/desks/<desk_id> Description : Retrieve detailed data for a specific desk by its ID. Path Parameters : desk_id : The ID of the desk to retrieve. Response : Status : 200 OK Body : JSON object with desk configuration, state, usage, and errors. { \"config\": { \"name\": \"DESK 4486\", \"manufacturer\": \"Desk-O-Matic Co.\" }, \"state\": { \"position_mm\": 680, \"speed_mms\": 0, \"status\": \"Normal\", \"isPositionLost\": false, \"isOverloadProtectionUp\": false, \"isOverloadProtectionDown\": false, \"isAntiCollision\": false }, \"usage\": { \"activationsCounter\": 25, \"sitStandCounter\": 1 }, \"lastErrors\": [ { \"time_s\": 120, \"errorCode\": 93 } ] } Errors : 404 Not Found : Desk not found. 401 Unauthorized : Invalid API key. 400 Bad Request : Incorrect endpoint format or version mismatch. 3. Get Specific Category Data of a Desk Endpoint : GET /api/v2/<api_key>/desks/<desk_id>/<category> Description : Retrieve a specific category ( config , state , usage , or lastErrors ) of a desk's data. Path Parameters : desk_id : The ID of the desk. category : The category of data to retrieve (e.g., config , state , usage , lastErrors ). Response : Status : 200 OK Body : JSON object with the requested category data. Errors : 404 Not Found : Desk or category not found. 401 Unauthorized : Invalid API key. 400 Bad Request : Incorrect endpoint format or version mismatch. 4. Update Specific Category Data of a Desk Endpoint : PUT /api/v2/<api_key>/desks/<desk_id>/<category> Description : Update a specific category of a desk, such as setting a new position_mm in the state category. Path Parameters : desk_id : The ID of the desk. category : The category of data to update (only state category is currently updatable). Request Body : Content-Type : application/json Body : JSON object with the data to update. Example for updating position: { \"position_mm\": 1000 } Response : Status : 200 OK Body : JSON object indicating the allowed position after the update. { \"position_mm\": 1000 } Errors : 404 Not Found : Desk or category not found. 401 Unauthorized : Invalid API key. 400 Bad Request : Incorrect endpoint format or invalid data type in the request body. Error Responses For all endpoints, the API may return the following standard error responses: 400 Bad Request : Returned if the request path or parameters are incorrect. Example : { \"error\": \"Invalid endpoint\" } 401 Unauthorized : Returned if an invalid API key is provided. Example : { \"error\": \"Unauthorized\" } 404 Not Found : Returned if a specified desk or category is not found. Example : { \"error\": \"Desk not found\" } 405 Method Not Allowed : Returned if an unsupported HTTP method is used (e.g., POST , DELETE , PATCH ). Example : { \"error\": \"Method Not Allowed\" }","title":"Endpoints"},{"location":"api/simulator/endpoints/#endpoints","text":"","title":"Endpoints"},{"location":"api/simulator/endpoints/#1-get-all-desks","text":"Endpoint : GET /api/v2/<api_key>/desks Description : Retrieve a list of all desk IDs available in the system. Response : Status : 200 OK Body : Array of desk IDs. json [\"cd:fb:1a:53:fb:e6\", \"ee:62:5b:b8:73:1d\"] Errors : 401 Unauthorized : Invalid API key. 400 Bad Request : Incorrect endpoint format or version mismatch.","title":"1. Get All Desks"},{"location":"api/simulator/endpoints/#2-get-specific-desk-data","text":"Endpoint : GET /api/v2/<api_key>/desks/<desk_id> Description : Retrieve detailed data for a specific desk by its ID. Path Parameters : desk_id : The ID of the desk to retrieve. Response : Status : 200 OK Body : JSON object with desk configuration, state, usage, and errors. { \"config\": { \"name\": \"DESK 4486\", \"manufacturer\": \"Desk-O-Matic Co.\" }, \"state\": { \"position_mm\": 680, \"speed_mms\": 0, \"status\": \"Normal\", \"isPositionLost\": false, \"isOverloadProtectionUp\": false, \"isOverloadProtectionDown\": false, \"isAntiCollision\": false }, \"usage\": { \"activationsCounter\": 25, \"sitStandCounter\": 1 }, \"lastErrors\": [ { \"time_s\": 120, \"errorCode\": 93 } ] } Errors : 404 Not Found : Desk not found. 401 Unauthorized : Invalid API key. 400 Bad Request : Incorrect endpoint format or version mismatch.","title":"2. Get Specific Desk Data"},{"location":"api/simulator/endpoints/#3-get-specific-category-data-of-a-desk","text":"Endpoint : GET /api/v2/<api_key>/desks/<desk_id>/<category> Description : Retrieve a specific category ( config , state , usage , or lastErrors ) of a desk's data. Path Parameters : desk_id : The ID of the desk. category : The category of data to retrieve (e.g., config , state , usage , lastErrors ). Response : Status : 200 OK Body : JSON object with the requested category data. Errors : 404 Not Found : Desk or category not found. 401 Unauthorized : Invalid API key. 400 Bad Request : Incorrect endpoint format or version mismatch.","title":"3. Get Specific Category Data of a Desk"},{"location":"api/simulator/endpoints/#4-update-specific-category-data-of-a-desk","text":"Endpoint : PUT /api/v2/<api_key>/desks/<desk_id>/<category> Description : Update a specific category of a desk, such as setting a new position_mm in the state category. Path Parameters : desk_id : The ID of the desk. category : The category of data to update (only state category is currently updatable). Request Body : Content-Type : application/json Body : JSON object with the data to update. Example for updating position: { \"position_mm\": 1000 } Response : Status : 200 OK Body : JSON object indicating the allowed position after the update. { \"position_mm\": 1000 } Errors : 404 Not Found : Desk or category not found. 401 Unauthorized : Invalid API key. 400 Bad Request : Incorrect endpoint format or invalid data type in the request body.","title":"4. Update Specific Category Data of a Desk"},{"location":"api/simulator/endpoints/#error-responses","text":"For all endpoints, the API may return the following standard error responses: 400 Bad Request : Returned if the request path or parameters are incorrect. Example : { \"error\": \"Invalid endpoint\" } 401 Unauthorized : Returned if an invalid API key is provided. Example : { \"error\": \"Unauthorized\" } 404 Not Found : Returned if a specified desk or category is not found. Example : { \"error\": \"Desk not found\" } 405 Method Not Allowed : Returned if an unsupported HTTP method is used (e.g., POST , DELETE , PATCH ). Example : { \"error\": \"Method Not Allowed\" }","title":"Error Responses"},{"location":"setup/frontend%20and%20backend/","text":"Setup Guide for Running Locally Prerequisites Python Node.js & npm PostgreSQL Steps Frontend Setup Install frontend dependencies: cd frontend npm install Create the PostgreSQL database psql -U postgres Then in the PostgreSQL prompt run: CREATE DATABASE db; CREATE USER \"user\" WITH PASSWORD 'localdevpw'; GRANT ALL PRIVILEGES ON DATABASE db TO \"user\"; ALTER USER \"user\" CREATEDB CREATEROLE; ALTER USER \"user\" WITH SUPERUSER; Type \\q or exit to quit. Backend Setup In root directory, create a python virtual environment. py -m venv env Install backend dependencies: env\\Scripts\\activate pip install -r requirements.txt Navigate to the backend folder and apply migrations: env/Scripts/activate cd backend py manage.py makemigrations py manage.py migrate Seed initial data: env/Scripts/activate cd backend py manage.py seed_data","title":"Frontend and Backend"},{"location":"setup/frontend%20and%20backend/#setup-guide-for-running-locally","text":"","title":"Setup Guide for Running Locally"},{"location":"setup/frontend%20and%20backend/#prerequisites","text":"Python Node.js & npm PostgreSQL","title":"Prerequisites"},{"location":"setup/frontend%20and%20backend/#steps","text":"","title":"Steps"},{"location":"setup/frontend%20and%20backend/#frontend-setup","text":"Install frontend dependencies: cd frontend npm install","title":"Frontend Setup"},{"location":"setup/frontend%20and%20backend/#create-the-postgresql-database","text":"psql -U postgres Then in the PostgreSQL prompt run: CREATE DATABASE db; CREATE USER \"user\" WITH PASSWORD 'localdevpw'; GRANT ALL PRIVILEGES ON DATABASE db TO \"user\"; ALTER USER \"user\" CREATEDB CREATEROLE; ALTER USER \"user\" WITH SUPERUSER; Type \\q or exit to quit.","title":"Create the PostgreSQL database"},{"location":"setup/frontend%20and%20backend/#backend-setup","text":"In root directory, create a python virtual environment. py -m venv env Install backend dependencies: env\\Scripts\\activate pip install -r requirements.txt Navigate to the backend folder and apply migrations: env/Scripts/activate cd backend py manage.py makemigrations py manage.py migrate Seed initial data: env/Scripts/activate cd backend py manage.py seed_data","title":"Backend Setup"},{"location":"setup/pico/","text":"Recommended Pico Dev Workflow Open one VS Code instance at the root folder of the project. Open a second VS Code instance. Go to File > Open Folder and select the pico folder. Set this instance to use the Pico-specific VS Code profile (with the required extensions). Setup Project 1. Pico SDK Install Create a new VS Code profile dedicated to Raspberry Pi Pico development. Install the Raspberry Pi Pico SDK extensions in that profile. Locate your Ninja location C:\\Users\\jonat\\.pico-sdk\\ninja\\v1.12.1 Add this to pico/.vscode/settings.json : \"cmake.configureSettings\": { \"CMAKE_MAKE_PROGRAM\": \"C:/Users/jonat/.pico-sdk/ninja/v1.12.1/ninja.exe\" }, 2. MQTT Setup Install Mosquitto MQTT Broker Download Link Create a new inbound firewall rule. Allow port 1883. Simply add these two lines at the top of mosquitto.conf and save. listener 1883 0.0.0.0 allow_anonymous true Code Configuration At this point, build and flash the code onto the pico (see section 3 below). Open the serial monitor and copy the Pico's MAC and IP address to update it into the database and the .env file. To find the MQTT_BROKER (computer ip) on windows in a command prompt: ipconfig 1.Copy the env template: cp .env.example .env 2.Edit .env at project root with your own values: MQTT_BROKER=0.0.0.0 MQTT_PORT=1883 PICO_MAC_ADDRESS=00:00:00:00:00:00 PICO_IP_ADDRESS=0.0.0.0 3.Copy the wifi config template : cp pico/wifi_config.h.example pico/wifi_config.h 4.Configure the broker server ip, network SSID and password in wifi_config.h in the pico folder with your own values: #define WIFI_SSID \"your_network_name\" #define WIFI_PASSWORD \"your_network_password\" #define MQTT_SERVER \"0.0.0.0\" Finally seed the data to update the MAC and IP in the database: env/Scripts/activate cd backend py manage.py seed_data 3. Build and Uploading Code With Debug Probe (Recommended) Benefit monitor serial monitor with com port. Easier and faster to flash new code. The First build the project from the cmake extension. A successful build will show the message: [Build] Build finished with exit code 0 Click the flash button Without Debug Probe Doesnt allow the serial monitor without additional configuration (Stdio support: Console over USB (disables other USB use)) First build the project from the cmake extension. A successful build will show the message: [Build] Build finished with exit code 0 Locate the pico/build/main.uf2 file. Hold the BOOTSEL button while plugging the USB into the Pico. Copy and paste the main.uf2 file into the Pico drive that appears in file explorer. Troubleshooting Delete the entire build folder. Reconfigure with: cmake --no-warn-unused-cli -S . -B build -G Ninja","title":"Pico"},{"location":"setup/pico/#recommended-pico-dev-workflow","text":"Open one VS Code instance at the root folder of the project. Open a second VS Code instance. Go to File > Open Folder and select the pico folder. Set this instance to use the Pico-specific VS Code profile (with the required extensions).","title":"Recommended Pico Dev Workflow"},{"location":"setup/pico/#setup-project","text":"","title":"Setup Project"},{"location":"setup/pico/#1-pico-sdk-install","text":"Create a new VS Code profile dedicated to Raspberry Pi Pico development. Install the Raspberry Pi Pico SDK extensions in that profile. Locate your Ninja location C:\\Users\\jonat\\.pico-sdk\\ninja\\v1.12.1 Add this to pico/.vscode/settings.json : \"cmake.configureSettings\": { \"CMAKE_MAKE_PROGRAM\": \"C:/Users/jonat/.pico-sdk/ninja/v1.12.1/ninja.exe\" },","title":"1. Pico SDK Install"},{"location":"setup/pico/#2-mqtt-setup","text":"","title":"2. MQTT Setup"},{"location":"setup/pico/#install-mosquitto-mqtt-broker","text":"Download Link Create a new inbound firewall rule. Allow port 1883. Simply add these two lines at the top of mosquitto.conf and save. listener 1883 0.0.0.0 allow_anonymous true","title":"Install Mosquitto MQTT Broker"},{"location":"setup/pico/#code-configuration","text":"At this point, build and flash the code onto the pico (see section 3 below). Open the serial monitor and copy the Pico's MAC and IP address to update it into the database and the .env file. To find the MQTT_BROKER (computer ip) on windows in a command prompt: ipconfig 1.Copy the env template: cp .env.example .env 2.Edit .env at project root with your own values: MQTT_BROKER=0.0.0.0 MQTT_PORT=1883 PICO_MAC_ADDRESS=00:00:00:00:00:00 PICO_IP_ADDRESS=0.0.0.0 3.Copy the wifi config template : cp pico/wifi_config.h.example pico/wifi_config.h 4.Configure the broker server ip, network SSID and password in wifi_config.h in the pico folder with your own values: #define WIFI_SSID \"your_network_name\" #define WIFI_PASSWORD \"your_network_password\" #define MQTT_SERVER \"0.0.0.0\" Finally seed the data to update the MAC and IP in the database: env/Scripts/activate cd backend py manage.py seed_data","title":"Code Configuration"},{"location":"setup/pico/#3-build-and-uploading-code","text":"","title":"3. Build and Uploading Code"},{"location":"setup/pico/#with-debug-probe-recommended","text":"Benefit monitor serial monitor with com port. Easier and faster to flash new code. The First build the project from the cmake extension. A successful build will show the message: [Build] Build finished with exit code 0 Click the flash button","title":"With Debug Probe (Recommended)"},{"location":"setup/pico/#without-debug-probe","text":"Doesnt allow the serial monitor without additional configuration (Stdio support: Console over USB (disables other USB use)) First build the project from the cmake extension. A successful build will show the message: [Build] Build finished with exit code 0 Locate the pico/build/main.uf2 file. Hold the BOOTSEL button while plugging the USB into the Pico. Copy and paste the main.uf2 file into the Pico drive that appears in file explorer.","title":"Without Debug Probe"},{"location":"setup/pico/#troubleshooting","text":"Delete the entire build folder. Reconfigure with: cmake --no-warn-unused-cli -S . -B build -G Ninja","title":"Troubleshooting"}]}